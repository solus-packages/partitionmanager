name       : partitionmanager
version    : 3.1.0
release    : 1
source     :
    - https://download.kde.org/stable/partitionmanager/3.1.0/src/partitionmanager-3.1.0.tar.xz : 46c3f97711cd8709aece346a27bc6ba89c29cfb5bcf2399bf1982c2e11ee6272
license    : GPL-3.0
component  : system.utils
summary    : KDE utility to help you manage disk devices
description: |
    KDE Partition Manager is a utility program to help you manage the disk devices, partitions and file systems on your computer. It allows you to easily create, copy, move, delete, resize without losing data, backup and restore partitions.
builddeps  :
    - pkgconfig(blkid)
    - pkgconfig(gl)
    - pkgconfig(libatasmart)
    - pkgconfig(Qt5Core)
    - extra-cmake-modules
    - kconfig-devel
    - kconfigwidgets-devel
    - kcoreaddons-devel
    - kcrash-devel
    - kdoctools-devel
    - ki18n-devel
    - kiconthemes-devel
    - kio-devel
    - kpmcore-devel
    - kservice-devel
    - kwidgetsaddons-devel
    - kxmlgui-devel
setup      : |
    %patch -p1 < $pkgfiles/0001-Use-pkexec-to-launch-PartitionManager.patch
    %cmake .
build      : |
    %make
install    : |
    %make_install
    install -D -m 00644 $pkgfiles/com.solus_project.pkexec.partitionmanager.policy $installdir/usr/share/polkit-1/actions/com.solus_project.pkexec.partitionmanager.policy
